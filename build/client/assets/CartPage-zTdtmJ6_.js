import{w as h}from"./with-props-DHFHkjzv.js";import{l as e,r as c}from"./chunk-KNED5TY2-DtGqyQJO.js";import"./text-CKxAY7xF.js";import"./icon-button-D494udMs.js";import"./index-DF_Ni4fG.js";import"./_baseGetTag-Cv11zV8V.js";import{C as u}from"./clock-oifG_epP.js";import"./utils-x4VewiwF.js";const g=({item:s,onAdd:t,onSub:o,onRemove:n})=>e.jsxs("div",{className:"bg-white rounded-2xl border shadow-sm p-6 sm:p-8 min-h-40 flex items-center gap-6",children:[e.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 rounded-2xl bg-gray-100 overflow-hidden flex-shrink-0",children:e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:s.name}),e.jsx("p",{className:"text-gray-500 text-sm sm:text-base leading-relaxed",children:"Tuna • Shrimp • Carrot • Mango • Jalapeno • Cucumber • Chili Flakes"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:["$",s.price]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"flex items-center rounded-full border-2 border-gray-200 bg-white overflow-hidden",children:[e.jsx("button",{onClick:()=>o(s.id),className:"w-11 h-11 grid place-items-center hover:bg-gray-50 transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5 text-gray-600",children:e.jsx("path",{fill:"currentColor",d:"M6 12c0-.55.45-1 1-1h10a1 1 0 1 1 0 2H7c-.55 0-1-.45-1-1Z"})})}),e.jsx("span",{className:"px-4 text-lg font-semibold select-none min-w-[2rem] text-center",children:s.qty}),e.jsx("button",{onClick:()=>t(s.id),className:"w-11 h-11 grid place-items-center bg-blue-600 hover:bg-blue-700 text-white transition-colors",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-5 h-5",children:e.jsx("path",{fill:"currentColor",d:"M11 19v-6H5a1 1 0 1 1 0-2h6V5a1 1 0 1 1 2 0v6h6a1 1 0 1 1 0 2h-6v6a1 1 0 1 1-2 0Z"})})})]}),e.jsx("button",{onClick:()=>n(s.id),className:"text-red-400 hover:text-red-600 transition-colors",title:"Remove",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:"w-6 h-6",children:e.jsx("path",{fill:"currentColor",d:"M7 7h10l-1 14H8L7 7Zm3-3h4l1 2h4a1 1 0 1 1 0 2H5a1 1 0 1 1 0-2h4l1-2Z"})})})]})]})]})]}),p=({items:s,onAdd:t,onSub:o,onRemove:n})=>e.jsx("div",{className:"space-y-4 w-full max-w-4xl",children:s.map(i=>e.jsx(g,{item:i,onAdd:t,onSub:o,onRemove:n},i.id))}),j=({subtotal:s,total:t})=>e.jsxs("aside",{className:"bg-white rounded-xl shadow-sm border p-4 h-fit sticky top-4",children:[e.jsx("h3",{className:"text-xl font-bold mb-3",children:"Order Summary"}),e.jsx("div",{className:"space-y-2 text-sm",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsxs("span",{className:"font-medium",children:["$",s.toFixed(2)]})]})}),e.jsx("hr",{className:"my-3"}),e.jsxs("div",{className:"flex items-center justify-between text-lg font-bold",children:[e.jsx("span",{children:"Total"}),e.jsxs("span",{children:["$",t.toFixed(2)]})]}),e.jsx("button",{className:"w-full mt-4 h-12 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium",children:"Proceed to Checkout"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsxs("a",{href:"/order-status",className:"flex-1 h-11 rounded-lg bg-slate-100 hover:bg-slate-200 text-slate-700 inline-grid place-items-center transition-colors relative group",children:[e.jsx(u,{className:"w-5 h-5"}),e.jsxs("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1 bg-slate-900 text-white text-sm rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap",children:["Order Status",e.jsx("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 w-0 h-0 border-l-4 border-r-4 border-t-4 border-transparent border-t-slate-900"})]})]}),e.jsx("a",{href:"/dining",className:"flex-1 h-11 rounded-lg bg-white border text-blue-700 inline-grid place-items-center hover:bg-blue-50 transition-colors",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})})})]})]}),M=h(function(){const[t,o]=c.useState([]);c.useEffect(()=>{try{const l=localStorage.getItem("cart_v1");if(l){const a=JSON.parse(l);Array.isArray(a)&&o(a)}}catch{}},[]),c.useEffect(()=>{try{localStorage.setItem("cart_v1",JSON.stringify(t))}catch{}},[t]);const n=c.useMemo(()=>t.reduce((l,a)=>l+a.price*a.qty,0),[t]),i=n,d=l=>o(a=>a.map(r=>r.id===l?{...r,qty:r.qty+1}:r)),x=l=>o(a=>a.flatMap(r=>r.id===l?r.qty>1?[{...r,qty:r.qty-1}]:[]:[r])),m=l=>o(a=>a.filter(r=>r.id!==l));return t.length===0?e.jsx("div",{className:"min-h-[calc(100vh-8rem)] flex items-center justify-center bg-orange-50",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-24 h-24 rounded-2xl bg-white shadow flex items-center justify-center text-gray-400",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",d:"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2 9m2-9l2 9m5-9v9m5-9l-2 9"})})}),e.jsx("h1",{className:"text-3xl font-bold",children:"Your cart is empty"}),e.jsx("p",{className:"text-gray-600",children:"Add some delicious items from our menu to get started!"}),e.jsx("a",{href:"/dining",className:"inline-block px-5 py-3 rounded-xl bg-orange-600 text-white hover:bg-orange-700",children:"Browse Menu"})]})}):e.jsx("div",{className:"bg-slate-50 py-8",children:e.jsxs("div",{className:"container mx-auto px-6 sm:px-8",children:[e.jsx("div",{className:"max-w-7xl mx-auto",children:e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold mb-6",children:"Your Cart"})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[auto_360px] gap-8 justify-center",children:[e.jsx(p,{items:t,onAdd:d,onSub:x,onRemove:m}),e.jsx(j,{subtotal:n,total:i})]})]})})});export{M as default};
